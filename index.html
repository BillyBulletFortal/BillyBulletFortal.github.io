<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso ao Sistema - Trabalho de Curso</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div class="login-container">
        <h2>üîí Sistema de Autentica√ß√£o</h2>
        <p>Digite usu√°rio e senha para acessar o trabalho de curso:</p>
        
        <input type="text" id="username" class="login-input" placeholder="Nome de usu√°rio">
        <input type="password" id="password" class="login-input" placeholder="Senha">
        <button onclick="verificarLogin()" class="login-button">Acessar Sistema</button>
        
        <div id="errorMessage" class="error-message"></div>
        
        <div class="instructions">
            <p><strong>senhas para teste do sistema:</strong></p>
            <p><span class="user-type">[VENDEDOR]</span> usuario <strong>vendedor1</strong> tem senha <code>valetudo</code></p>
            <p><span class="user-type">[GERENTE]</span> usuario <strong>gerente01</strong> tem senha <code>precisodeaumento</code></p>
            <p><span class="user-type">[ADMIN SEGURAN√áA]</span> usuario <strong>adminiseg1</strong> tem senha <code>bat1234</code></p>
            <p><em>Esta √© uma p√°gina de demonstra√ß√£o para trabalho acad√™mico.</em></p>
        </div>
    </div>

    <script>
        // Base de usu√°rios fixa (simulando "banco de dados")
        const USUARIOS = {
            "vendedor1": {
                senha: "valetudo",
                tipo: "VENDEDOR",
                nome: "Vendedor 1",
                permissoes: ["projetos p√∫blicos"]
            },
            "gerente01": {
                senha: "precisodeaumento", 
                tipo: "GERENTE",
                nome: "Gerente 01",
                permissoes: ["projetos comerciais", "projetos p√∫blicos"]
            },
            "adminiseg1": {
                senha: "bat1234",
                tipo: "ADMINISTRADOR_SEGURANCA",
                nome: "Administrador de Seguran√ßa 1",
                permissoes: ["todos os processos"]
            }
        };
        
        function verificarLogin() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            const errorMessage = document.getElementById("errorMessage");
            
            // Limpa mensagem anterior
            errorMessage.style.display = "none";
            errorMessage.innerHTML = "";
            
            // Valida√ß√µes b√°sicas
            if (!username || !password) {
                errorMessage.innerHTML = "Por favor, preencha usu√°rio e senha.";
                errorMessage.style.display = "block";
                return;
            }
            
            // Verifica se usu√°rio existe
            if (!USUARIOS[username]) {
                errorMessage.innerHTML = "Usu√°rio n√£o encontrado.";
                errorMessage.style.display = "block";
                document.getElementById("password").value = "";
                document.getElementById("username").focus();
                return;
            }
            
            // Verifica se senha est√° correta
            if (USUARIOS[username].senha !== password) {
                errorMessage.innerHTML = "Senha incorreta.";
                errorMessage.style.display = "block";
                document.getElementById("password").value = "";
                document.getElementById("password").focus();
                return;
            }
            
            // Login bem sucedido - Armazena TODAS as informa√ß√µes do usu√°rio
            const usuarioLogado = USUARIOS[username];
            
            // Armazena os dados do usu√°rio na sessionStorage
            // APENAS UMA CHAVE ser√° usada: 'usuarioLogado'
            sessionStorage.setItem('usuarioLogado', JSON.stringify({
                username: username,
                tipo: usuarioLogado.tipo,
                nome: usuarioLogado.nome,
                permissoes: usuarioLogado.permissoes
            }));
            
            // Redireciona para o sistema
            window.location.href = "sistema.html";
        }
        
        // Permitir pressionar Enter para enviar
        document.getElementById("password").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                verificarLogin();
            }
        });
        
        document.getElementById("username").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                document.getElementById("password").focus();
            }
        });
        
        // Focar no campo de usu√°rio ao carregar a p√°gina
        window.onload = function() {
            document.getElementById("username").focus();
        };
    </script>
</body>
</html>
